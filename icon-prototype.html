<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>미완성수집소 - 아이콘 프로토타입</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e9ecef 100%);
            padding: 40px 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: #1a1a2e;
        }

        .subtitle {
            text-align: center;
            color: #6c757d;
            margin-bottom: 60px;
            font-size: 1.1rem;
        }

        .prototypes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            margin-bottom: 60px;
        }

        .prototype-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s, border 0.3s;
            cursor: pointer;
            border: 3px solid transparent;
        }

        .prototype-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }
        
        .prototype-card.selected {
            border: 3px solid #5e60ce;
            background: linear-gradient(white, #f8f8ff);
        }

        .icon-container {
            display: flex;
            justify-content: center;
            margin-bottom: 24px;
        }

        .icon-wrapper {
            width: 180px;
            height: 180px;
            background: #f8f9fa;
            border-radius: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .icon-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: #1a1a2e;
            margin-bottom: 12px;
            text-align: center;
        }

        .icon-description {
            color: #6c757d;
            line-height: 1.6;
            text-align: center;
            font-size: 0.95rem;
        }

        .variations {
            margin-top: 24px;
            display: flex;
            gap: 12px;
            justify-content: center;
        }

        .variation {
            width: 60px;
            height: 60px;
            background: #f8f9fa;
            border-radius: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: background 0.2s;
        }

        .variation:hover {
            background: #e9ecef;
        }

        .color-info {
            margin-top: 40px;
            padding: 20px;
            background: white;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .color-row {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }

        .color-sample {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            margin-right: 16px;
        }

        .color-label {
            font-weight: 500;
            color: #1a1a2e;
            margin-right: 8px;
        }

        .color-value {
            color: #6c757d;
            font-family: 'Monaco', monospace;
            font-size: 0.9rem;
        }


        .export-section {
            text-align: center;
            margin-top: 40px;
        }

        .export-btn {
            display: inline-block;
            padding: 12px 32px;
            background: linear-gradient(135deg, #5e60ce, #7c7fe8);
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            transition: transform 0.2s, box-shadow 0.2s;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }

        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(94, 96, 206, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>미완성수집소 아이콘 프로토타입</h1>
        <p class="subtitle">새로운 보라색 테마 (#5e60ce) 기반 디자인 제안</p>

        <div class="prototypes-grid">
            <!-- Prototype 1: Progressive Circle -->
            <div class="prototype-card selected" data-name="progressive-circle">
                <div class="icon-container">
                    <div class="icon-wrapper">
                        <svg width="120" height="120" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                            <!-- Background circle -->
                            <circle cx="60" cy="60" r="50" fill="#f0f0f5" stroke="#e0e0e5" stroke-width="2"/>
                            
                            <!-- Progress arc (75% complete) -->
                            <circle cx="60" cy="60" r="50" 
                                fill="none" 
                                stroke="url(#gradient1)" 
                                stroke-width="8"
                                stroke-linecap="round"
                                stroke-dasharray="235.6 314.16"
                                transform="rotate(-90 60 60)"/>
                            
                            <!-- Center icon -->
                            <g transform="translate(60, 60)">
                                <!-- Pen/pencil icon -->
                                <path d="M-15,-15 L5,5 L0,15 L-10,10 Z" fill="#5e60ce" opacity="0.8"/>
                                <path d="M5,5 L10,0 L0,-10 L-5,-5 Z" fill="#7c7fe8"/>
                                <circle cx="-5" cy="10" r="3" fill="#5e60ce" opacity="0.6"/>
                            </g>
                            
                            <defs>
                                <linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" stop-color="#5e60ce"/>
                                    <stop offset="100%" stop-color="#7c7fe8"/>
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                </div>
                <h3 class="icon-title">진행형 원 (추천)</h3>
                <p class="icon-description">75% 채워진 원은 미완성에서 완성으로 가는 여정을 표현합니다. 중앙의 펜은 창작 활동을 상징합니다.</p>
                
                <div class="variations">
                    <div class="variation">
                        <svg width="40" height="40" viewBox="0 0 40 40">
                            <circle cx="20" cy="20" r="16" fill="#f0f0f5" stroke="#e0e0e5" stroke-width="1"/>
                            <circle cx="20" cy="20" r="16" fill="none" stroke="#5e60ce" stroke-width="3" 
                                stroke-dasharray="75.4 100.5" transform="rotate(-90 20 20)"/>
                        </svg>
                    </div>
                    <div class="variation">
                        <svg width="40" height="40" viewBox="0 0 40 40">
                            <rect width="40" height="40" rx="8" fill="#5e60ce"/>
                            <circle cx="20" cy="20" r="12" fill="none" stroke="white" stroke-width="2" 
                                stroke-dasharray="56.5 75.4" transform="rotate(-90 20 20)"/>
                        </svg>
                    </div>
                    <div class="variation">
                        <svg width="40" height="40" viewBox="0 0 40 40">
                            <rect width="40" height="40" rx="8" fill="url(#grad-mini)"/>
                            <circle cx="20" cy="20" r="12" fill="none" stroke="white" stroke-width="2" 
                                stroke-dasharray="56.5 75.4" transform="rotate(-90 20 20)"/>
                            <defs>
                                <linearGradient id="grad-mini">
                                    <stop offset="0%" stop-color="#5e60ce"/>
                                    <stop offset="100%" stop-color="#7c7fe8"/>
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Prototype 2: Puzzle Pieces -->
            <div class="prototype-card">
                <div class="icon-container">
                    <div class="icon-wrapper">
                        <svg width="120" height="120" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                            <!-- Bottom left piece (complete) -->
                            <path d="M 30,60 L 30,80 Q 30,90 40,90 L 50,90 Q 55,85 60,90 L 70,90 Q 80,90 80,80 L 80,70 Q 75,65 80,60 L 70,60 Q 60,60 60,70 L 60,80 L 40,80 Q 30,80 30,70 Z" 
                                fill="url(#gradient2)" opacity="0.9"/>
                            
                            <!-- Top right piece (fitting) -->
                            <path d="M 50,30 Q 40,30 40,40 L 40,50 Q 45,55 40,60 L 50,60 Q 60,60 60,50 L 60,40 Q 60,30 50,30 Z" 
                                fill="#7c7fe8" opacity="0.8" transform="translate(10, 5)"/>
                            
                            <!-- Missing piece outline -->
                            <path d="M 70,40 Q 70,30 80,30 L 90,30 Q 90,40 90,40 L 90,50 Q 85,55 90,60 L 80,60 Q 70,60 70,50 Z" 
                                fill="none" stroke="#5e60ce" stroke-width="2" stroke-dasharray="4,2" opacity="0.5"/>
                            
                            <defs>
                                <linearGradient id="gradient2" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" stop-color="#5e60ce"/>
                                    <stop offset="100%" stop-color="#9795f0"/>
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                </div>
                <h3 class="icon-title">퍼즐 조각</h3>
                <p class="icon-description">서로 맞춰지는 퍼즐 조각들은 협업을 통한 완성을 의미합니다. 비어있는 조각은 기여를 기다리는 공간입니다.</p>
                
                <div class="variations">
                    <div class="variation">
                        <svg width="40" height="40" viewBox="0 0 40 40">
                            <rect width="40" height="40" rx="8" fill="#f0f0f5"/>
                            <path d="M 10,20 L 10,25 Q 10,30 15,30 L 20,30 Q 22,28 24,30 L 30,30 Q 30,25 30,20 L 25,20 Q 20,20 20,25 L 15,25 Q 10,25 10,20 Z" 
                                fill="#5e60ce"/>
                        </svg>
                    </div>
                    <div class="variation">
                        <svg width="40" height="40" viewBox="0 0 40 40">
                            <rect width="40" height="40" rx="8" fill="#5e60ce"/>
                            <path d="M 10,20 L 10,25 Q 10,30 15,30 L 20,30 Q 22,28 24,30 L 30,30 Q 30,25 30,20 L 25,20 Q 20,20 20,25 L 15,25 Q 10,25 10,20 Z" 
                                fill="white"/>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Prototype 3: Infinity Loop -->
            <div class="prototype-card">
                <div class="icon-container">
                    <div class="icon-wrapper">
                        <svg width="120" height="120" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                            <!-- Infinity symbol with gradient -->
                            <path d="M 30,60 Q 30,45 40,45 Q 50,45 60,60 Q 70,75 80,75 Q 90,75 90,60 Q 90,45 80,45 Q 70,45 60,60 Q 50,75 40,75 Q 30,75 30,60 Z" 
                                fill="none" 
                                stroke="url(#gradient3)" 
                                stroke-width="6"
                                stroke-linecap="round"/>
                            
                            <!-- Dots representing collaboration points -->
                            <circle cx="40" cy="52" r="4" fill="#5e60ce"/>
                            <circle cx="80" cy="68" r="4" fill="#7c7fe8"/>
                            <circle cx="60" cy="60" r="5" fill="#9795f0"/>
                            
                            <defs>
                                <linearGradient id="gradient3" x1="0%" y1="0%" x2="100%" y2="0%">
                                    <stop offset="0%" stop-color="#5e60ce"/>
                                    <stop offset="50%" stop-color="#7c7fe8"/>
                                    <stop offset="100%" stop-color="#9795f0"/>
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                </div>
                <h3 class="icon-title">무한 루프</h3>
                <p class="icon-description">끝없이 이어지는 창작의 순환을 표현합니다. 점들은 창작자들의 기여 포인트를 나타냅니다.</p>
                
                <div class="variations">
                    <div class="variation">
                        <svg width="40" height="40" viewBox="0 0 40 40">
                            <rect width="40" height="40" rx="8" fill="#f0f0f5"/>
                            <path d="M 8,20 Q 8,14 12,14 Q 16,14 20,20 Q 24,26 28,26 Q 32,26 32,20 Q 32,14 28,14 Q 24,14 20,20 Q 16,26 12,26 Q 8,26 8,20 Z" 
                                fill="none" stroke="#5e60ce" stroke-width="2"/>
                        </svg>
                    </div>
                    <div class="variation">
                        <svg width="40" height="40" viewBox="0 0 40 40">
                            <rect width="40" height="40" rx="8" fill="url(#grad-mini2)"/>
                            <path d="M 8,20 Q 8,14 12,14 Q 16,14 20,20 Q 24,26 28,26 Q 32,26 32,20 Q 32,14 28,14 Q 24,14 20,20 Q 16,26 12,26 Q 8,26 8,20 Z" 
                                fill="none" stroke="white" stroke-width="2"/>
                            <defs>
                                <linearGradient id="grad-mini2">
                                    <stop offset="0%" stop-color="#5e60ce"/>
                                    <stop offset="100%" stop-color="#7c7fe8"/>
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Prototype 4: Layered Pages -->
            <div class="prototype-card">
                <div class="icon-container">
                    <div class="icon-wrapper">
                        <svg width="120" height="120" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                            <!-- Back page -->
                            <rect x="35" y="25" width="50" height="65" rx="4" fill="#9795f0" opacity="0.3"/>
                            
                            <!-- Middle page -->
                            <rect x="30" y="30" width="50" height="65" rx="4" fill="#7c7fe8" opacity="0.5"/>
                            
                            <!-- Front page (incomplete) -->
                            <g>
                                <rect x="40" y="35" width="50" height="65" rx="4" fill="white" stroke="#5e60ce" stroke-width="2"/>
                                <!-- Text lines -->
                                <rect x="48" y="45" width="30" height="2" fill="#5e60ce" opacity="0.8"/>
                                <rect x="48" y="52" width="25" height="2" fill="#5e60ce" opacity="0.6"/>
                                <rect x="48" y="59" width="20" height="2" fill="#5e60ce" opacity="0.4"/>
                                <!-- Dashed lines for incomplete part -->
                                <rect x="48" y="66" width="28" height="2" fill="#5e60ce" opacity="0.2" stroke-dasharray="4,2"/>
                                <rect x="48" y="73" width="24" height="2" fill="#5e60ce" opacity="0.1" stroke-dasharray="4,2"/>
                                
                                <!-- Plus icon for adding -->
                                <circle cx="75" cy="85" r="8" fill="#5e60ce"/>
                                <path d="M 71,85 L 79,85 M 75,81 L 75,89" stroke="white" stroke-width="2" stroke-linecap="round"/>
                            </g>
                        </svg>
                    </div>
                </div>
                <h3 class="icon-title">겹쳐진 페이지</h3>
                <p class="icon-description">여러 창작자의 기여가 층층이 쌓여 하나의 작품이 됩니다. 플러스 아이콘은 기여 추가를 의미합니다.</p>
                
                <div class="variations">
                    <div class="variation">
                        <svg width="40" height="40" viewBox="0 0 40 40">
                            <rect width="40" height="40" rx="8" fill="#f0f0f5"/>
                            <rect x="10" y="8" width="16" height="20" rx="2" fill="#9795f0" opacity="0.3"/>
                            <rect x="12" y="10" width="16" height="20" rx="2" fill="#7c7fe8" opacity="0.5"/>
                            <rect x="14" y="12" width="16" height="20" rx="2" fill="white" stroke="#5e60ce" stroke-width="1"/>
                        </svg>
                    </div>
                    <div class="variation">
                        <svg width="40" height="40" viewBox="0 0 40 40">
                            <rect width="40" height="40" rx="8" fill="#5e60ce"/>
                            <rect x="14" y="12" width="16" height="20" rx="2" fill="white"/>
                            <rect x="18" y="16" width="8" height="1" fill="#5e60ce"/>
                            <rect x="18" y="19" width="6" height="1" fill="#5e60ce" opacity="0.6"/>
                            <rect x="18" y="22" width="7" height="1" fill="#5e60ce" opacity="0.3"/>
                        </svg>
                    </div>
                </div>
            </div>
        </div>

        <!-- Color Information -->
        <div class="color-info">
            <h2 style="margin-bottom: 20px; color: #1a1a2e;">색상 팔레트</h2>
            <div class="color-row">
                <div class="color-sample" style="background: #5e60ce;"></div>
                <span class="color-label">주 색상:</span>
                <span class="color-value">#5e60ce (보라)</span>
            </div>
            <div class="color-row">
                <div class="color-sample" style="background: #7c7fe8;"></div>
                <span class="color-label">보조 색상:</span>
                <span class="color-value">#7c7fe8 (연보라)</span>
            </div>
            <div class="color-row">
                <div class="color-sample" style="background: #9795f0;"></div>
                <span class="color-label">액센트:</span>
                <span class="color-value">#9795f0 (파스텔 보라)</span>
            </div>
            <div class="color-row">
                <div class="color-sample" style="background: linear-gradient(135deg, #5e60ce, #7c7fe8);"></div>
                <span class="color-label">그라디언트:</span>
                <span class="color-value">#5e60ce → #7c7fe8</span>
            </div>
        </div>

        <!-- Export Options -->
        <div class="export-section">
            <div style="margin-bottom: 20px; padding: 20px; background: white; border-radius: 12px; box-shadow: 0 4px 12px rgba(0,0,0,0.05);">
                <p style="color: #1a1a2e; font-weight: 600; margin-bottom: 8px;">현재 선택된 디자인:</p>
                <p id="selected-design" style="color: #5e60ce; font-size: 1.2rem;">진행형 원 (추천)</p>
            </div>
            <div style="display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;">
                <button class="export-btn" onclick="downloadSVG()">
                    SVG 다운로드
                </button>
                <button class="export-btn" style="background: linear-gradient(135deg, #7c7fe8, #9795f0);" onclick="downloadPNG()">
                    PNG 다운로드 (1024x1024)
                </button>
                <button class="export-btn" style="background: linear-gradient(135deg, #9795f0, #b5b3ff);" onclick="downloadICO()">
                    ICO 다운로드
                </button>
            </div>
            <p style="margin-top: 20px; color: #6c757d; font-size: 0.9rem;">
                💡 iOS 앱 아이콘은 1024x1024 PNG를 App Store Connect에 업로드하면 자동으로 모든 크기가 생성됩니다.
            </p>
        </div>
    </div>

    <script>
        let selectedIcon = 'progressive-circle';
        let selectedSVG = null;

        // Add click interaction to prototype cards
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.prototype-card');
            
            cards.forEach(card => {
                card.addEventListener('click', function() {
                    // Remove selected class from all cards
                    cards.forEach(c => c.classList.remove('selected'));
                    // Add selected class to clicked card
                    this.classList.add('selected');
                    
                    // Update selected design display
                    const designName = this.querySelector('.icon-title').textContent;
                    document.getElementById('selected-design').textContent = designName;
                    
                    // Store selected SVG
                    selectedSVG = this.querySelector('.icon-wrapper svg').cloneNode(true);
                    
                    console.log('Card selected:', designName);
                });
            });

            // Variation click handling
            const variations = document.querySelectorAll('.variation');
            variations.forEach(variation => {
                variation.addEventListener('click', function(e) {
                    e.stopPropagation();
                    // Find parent card and select it
                    const parentCard = this.closest('.prototype-card');
                    cards.forEach(c => c.classList.remove('selected'));
                    parentCard.classList.add('selected');
                    
                    // Update selected design display
                    const designName = parentCard.querySelector('.icon-title').textContent;
                    document.getElementById('selected-design').textContent = designName + ' (변형)';
                    
                    // Store selected variation SVG
                    selectedSVG = this.querySelector('svg').cloneNode(true);
                    
                    // Visual feedback for variation selection
                    const allVariations = parentCard.querySelectorAll('.variation');
                    allVariations.forEach(v => v.style.border = 'none');
                    this.style.border = '2px solid #5e60ce';
                });
            });
            
            // Set initial selected SVG
            selectedSVG = document.querySelector('.prototype-card.selected .icon-wrapper svg').cloneNode(true);
        });

        // Download functions
        function downloadSVG() {
            if (!selectedSVG) {
                alert('아이콘을 먼저 선택해주세요.');
                return;
            }
            
            // Set proper size for export
            selectedSVG.setAttribute('width', '512');
            selectedSVG.setAttribute('height', '512');
            selectedSVG.setAttribute('viewBox', '0 0 120 120');
            
            const svgData = new XMLSerializer().serializeToString(selectedSVG);
            const blob = new Blob([svgData], {type: 'image/svg+xml'});
            const url = URL.createObjectURL(blob);
            
            const a = document.createElement('a');
            a.href = url;
            a.download = 'unfinished-vault-icon.svg';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function downloadPNG() {
            if (!selectedSVG) {
                alert('아이콘을 먼저 선택해주세요.');
                return;
            }
            
            const canvas = document.createElement('canvas');
            canvas.width = 1024;
            canvas.height = 1024;
            const ctx = canvas.getContext('2d');
            
            // Create rounded rectangle background
            ctx.fillStyle = '#ffffff';
            roundRect(ctx, 0, 0, 1024, 1024, 180);
            ctx.fill();
            
            const svgData = new XMLSerializer().serializeToString(selectedSVG);
            const img = new Image();
            const url = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(svgData);
            
            img.onload = function() {
                // Center the icon in the canvas
                const scale = 7; // Scale up for 1024x1024
                const x = (1024 - 120 * scale) / 2;
                const y = (1024 - 120 * scale) / 2;
                ctx.drawImage(img, x, y, 120 * scale, 120 * scale);
                
                canvas.toBlob(function(blob) {
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = 'unfinished-vault-icon-1024.png';
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    URL.revokeObjectURL(url);
                }, 'image/png');
            };
            
            img.src = url;
        }

        function downloadICO() {
            alert('ICO 파일 생성을 위해서는 PNG 파일을 다운로드한 후,\n온라인 변환 도구(convertio.co/png-ico)를 사용하거나\nXcode의 Asset Catalog을 사용하세요.');
        }

        function roundRect(ctx, x, y, width, height, radius) {
            ctx.beginPath();
            ctx.moveTo(x + radius, y);
            ctx.lineTo(x + width - radius, y);
            ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
            ctx.lineTo(x + width, y + height - radius);
            ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
            ctx.lineTo(x + radius, y + height);
            ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
            ctx.lineTo(x, y + radius);
            ctx.quadraticCurveTo(x, y, x + radius, y);
            ctx.closePath();
        }
    </script>
</body>
</html>